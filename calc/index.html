<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ZEUS AI — Калькулятор v2.0</title>
  <link rel="icon" href="assets/logo.svg">
  <link rel="stylesheet" href="styles.css"/>
  <meta name="color-scheme" content="dark light"/>
</head>
<body>
  <div class="container" id="app">
    <div class="header">
      <img src="assets/logo.svg" alt="ZEUS AI"/>
      <div class="title">ZEUS AI — Финансовый калькулятор v2.0</div>
      <div class="toolbar">
        <div class="switch"><span class="small" data-i="light">Светлая</span><input type="checkbox" id="theme"><span class="small" data-i="dark">Тёмная</span></div>
        <button class="btn" id="saveBtn" data-i="save">Сохранить сценарий</button>
        <button class="btn" id="loadBtn" data-i="load">Загрузить</button>
        <button class="btn" id="pdfBtn">PDF</button>
        <button class="btn" id="resetBtn" data-i="reset">Сброс</button>
        <button class="btn" id="langBtn">RU / EN</button>
      </div>
    </div>

    <div class="grid">
      <div class="card" style="grid-column: span 12;">
        <h3 data-i="params">Параметры</h3>
        <div class="tabs" id="scTabs">
          <div class="tab active" data-scenario="base" data-i="base">Базовый</div>
          <div class="tab" data-scenario="opt" data-i="opt">Оптимистичный</div>
          <div class="tab" data-scenario="pes" data-i="pes">Пессимистичный</div>
        </div>
        <div class="input-row">
          <div class="tile"><label data-i="apr">Годовая ставка, %</label><input type="number" id="apr" value="24" step="0.1"></div>
          <div class="tile"><label data-i="fee">Комиссия, %</label><input type="number" id="fee" value="10" step="0.1"></div>
        </div>
        <div class="input-row">
          <div class="tile"><label data-i="principal">Первоначальная сумма</label><input type="number" id="principal" value="3000" step="100"></div>
          <div class="tile"><label data-i="contrib">Регулярное пополнение / мес</label><input type="number" id="contrib" value="200" step="50"></div>
        </div>
        <div class="input-row">
          <div class="tile"><label data-i="years">Срок, лет</label><input type="number" id="years" value="3" step="1"></div>
          <div class="tile"><label data-i="infl">Инфляция, %</label><input type="number" id="infl" value="6" step="0.1"></div>
        </div>
        <div class="input-row">
          <div class="tile"><label data-i="currency">Валюта</label>
            <select id="currency"><option>$</option><option>€</option><option>₽</option></select>
          </div>
          <div class="tile" id="bigDepositTile"><label data-i="ear">EAR (эффективная)</label><div><span id="earOut">—</span></div></div>
        </div>
        <div class="small" data-i="hint">Подсказка: если депозит ≥ $10 000 — плитка подсветится зелёным.</div>
      </div>

      <div class="card" style="grid-column: span 6;">
        <h3 data-i="chart1">Рост депозита</h3>
        <svg class="line" id="lineChart" role="img" aria-label="График роста"></svg>
      </div>

      <div class="card" style="grid-column: span 6;">
        <h3 data-i="pie">Структура дохода</h3>
        <svg class="pie" id="pieChart" role="img" aria-label="Круговая диаграмма"></svg>
        <div class="kpi">
          <div class="meter">
            <div class="small">ROI</div>
            <div class="value counter" id="roi">—</div>
            <div class="progress"><div id="roiBar"></div></div>
          </div>
          <div class="meter">
            <div class="small">CAGR</div>
            <div class="value counter" id="cagr">—</div>
            <div class="progress"><div id="cagrBar"></div></div>
          </div>
          <div class="meter">
            <div class="small">IRR</div>
            <div class="value counter" id="irr">—</div>
            <div class="progress"><div id="irrBar"></div></div>
          </div>
        </div>
      </div>

      <div class="card" style="grid-column: span 12;">
        <h3 data-i="partner">Партнёрская программа</h3>
        <div class="row">
          <label class="tile"><span data-i="affUse">Учитывать партнёрку</span><input type="checkbox" id="useAff" checked></label>
          <label class="tile"><span data-i="affAvg">Средняя прибыль партнёра / мес</span><input type="number" id="affAvg" value="80" step="10"></label>
          <label class="tile"><span data-i="months">Месяцев учёта</span><input type="number" id="affMonths" value="12" step="1"></label>
        </div>
        <div class="input-row">
          <div class="tile"><label>L1 %</label><input type="number" id="l1" value="10" step="1"></div>
          <div class="tile"><label>L2 %</label><input type="number" id="l2" value="5" step="1"></div>
        </div>
        <div class="input-row">
          <div class="tile"><label>L3 %</label><input type="number" id="l3" value="3" step="1"></div>
          <div class="tile"><label>L4 %</label><input type="number" id="l4" value="2" step="1"></div>
        </div>
        <div class="row small" id="affBreakdown"></div>
      </div>

      <div class="card" style="grid-column: span 12;">
        <h3 data-i="report">Отчёт</h3>
        <div class="row">
          <div class="badge" id="invested">Внесено: —</div>
          <div class="badge" id="earned">Проценты: —</div>
          <div class="badge" id="partnerIncome">Партнёрка: —</div>
          <div class="badge" id="totalOut">Итого: —</div>
          <div class="badge" id="avgMonth">В месяц: —</div>
        </div>
      </div>
    </div>

    <div class="footer">© ZEUS AI. v2.0 — офлайн-графики (SVG), локальное сохранение сценариев, RU/EN, печать PDF через режим «Отчёт».</div>
  </div>

  <script src="strings.js"></script>
  <script src="utils.js"></script>
  <script src="app.js"></script>
</body>
</html>
